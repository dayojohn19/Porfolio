{% extends "a_index/layout.html" %}

{% load static %}
    {% block body %}
    <link rel="stylesheet" href="{% static 'application/application.css' %}">
    <link rel="stylesheet" href="{% static 'application/calendar/calendar.css' %}">
    


{% now " F j Y h:i a" %}
<div class="calendar-container">
    <h1 class="calendar-heading">Calendar</h1>
    <p>Soon to add Special Features </p>
</div><hr>

    {{m}}
    


    




<div class="calendar-log">
    {{m}}
    <span class="log"></span>

    <span class="log2"><h1>Python</h1>
        <select class="month" name="month" onChange="newMonth(this.value)">
            <option value="1">January</option>
            <option value="2">February</option>
            <option value="3">March</option>
            <option value="4">April</option>
            <option value="5">May</option>
            <option value="6">June</option>
            <option value="7">July</option>
            <option value="8">August</option>
            <option value="9">September</option>
            <option value="10">October</option>
            <option value="11">November</option>
            <option value="12">December</option>
    </select>
    <hr>
    <span class="log2-i">Using Python packages to automatically create a Calendar and using Javascript JSON object to pass to the HTML.</span></span>
    <div>
        <div class="input-log"></div>
    </div>
</div>

<script>


    function newMonth(month){

    fetch(month
    // ,{
    //     method: 'post',
    //     body: JSON.stringify({
    //         month: month,
    //     })
    // }
    )
    .then(function(response){
        return response.text()
    })
    .then(function(html){
        // console.log(html);
        document.querySelector(".log").innerHTML = html;
    });
}

function load(month){
    u_name = prompt('To continue Please tell me your First Name:', 'Jane Doe');
fetch(month, {
    method: 'POST',
    body: JSON.stringify({
        name: u_name
    })
})
.then(function(response){
    return response.text()
})
.then(function(html){
    document.querySelector(".log").innerHTML = html;
    document.querySelector(".input-log").innerHTML = "If you want to see the codes please Contact Me";
});

}
    document.addEventListener("DOMContentLoaded", ()=>{
        load(12);
    })
    

    
</script>


{% endblock %}